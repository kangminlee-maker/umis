# ========================================
# UMIS Tool Registry v7.1.0
# System RAG: Key-based 정확 검색
# ========================================

version: '7.1.0'
created: '2025-11-03'
total_tools: 10  # 일단 10개로 시작

# ========================================
# 도구 목록
# ========================================

tools:
  
  # ========================================
  # Explorer Tools (RAG 활용)
  # ========================================
  
  - tool_id: explorer:pattern_search
    tool_key: tool:explorer:pattern_search
    
    metadata:
      agent: explorer
      category: rag_search
      complexity: low
      context_size: 350
      priority: high
    
    when_to_use:
      keywords:
        - 패턴
        - 모델
        - 사례
        - 벤치마크
      
      conditions:
        - "agent == 'explorer'"
        - "task_type in ['pattern_discovery', 'model_matching']"
      
      scenarios:
        - "@Explorer, 구독 모델 패턴 찾아줘"
        - "@Explorer, 플랫폼 비즈니스 사례"
        - "음악 스트리밍 비즈니스 모델 분석"
    
    content: |
      # Explorer: RAG 패턴 검색
      
      ## 목적
      31개 비즈니스 모델 + 23개 Disruption 패턴에서 관련 패턴 자동 검색
      
      ## RAG 아키텍처
      - **Vector**: projected_index (agent_view=explorer)
      - **Graph**: Neo4j (13 노드, 45 관계)
      - **Embedding**: text-embedding-3-large (3072 dim)
      
      ## 검색 프로세스
      
      ### 1. Vector Search
      ```python
      from umis_rag.agents.explorer import ExplorerRAG
      
      explorer = ExplorerRAG()
      patterns = explorer.search_patterns("구독 모델")
      
      # 결과
      # → subscription_model (유사도 0.95)
      # → platform + subscription (0.87)
      ```
      
      ### 2. Graph Search (조합 패턴)
      ```python
      combinations = explorer.search_patterns_with_graph("구독 모델")
      
      # 결과
      # → subscription + platform (confidence 0.87)
      # → subscription + advertising (0.78)
      ```
      
      ### 3. Case Search (성공 사례)
      ```python
      cases = explorer.search_cases(
          industry="음악 산업", 
          pattern_id="subscription_model"
      )
      
      # 결과
      # → Spotify (2.2억 구독자, 5.2% churn)
      # → Netflix (해지율 2.4%)
      # → Adobe (구독 전환 후 매출 3배)
      ```
      
      ## 출력 형식
      ```yaml
      matched_patterns:
        - pattern_id: subscription_model
          similarity: 0.95
          critical_success_factors:
            - "해지율 < 5%"
            - "LTV/CAC > 3.0"
          
          success_cases:
            - "Spotify: 5.2% churn"
            - "Netflix: 2.4% churn"
      
      combinations:
        - pattern: subscription + platform
          confidence: 0.87
          evidence:
            - Spotify
            - LinkedIn Premium
          
          insight: "플랫폼 네트워크 효과 + 구독 안정성"
      ```
      
      ## 다음 단계
      - 발견한 패턴으로 7단계 프로세스 시작
      - 또는 사례 심층 분석
  
  - tool_id: explorer:7_step_process
    tool_key: tool:explorer:7_step_process
    
    metadata:
      agent: explorer
      category: process
      complexity: medium
      context_size: 500
      priority: high
    
    when_to_use:
      keywords:
        - 기회
        - 발굴
        - 가설
        - 검증
      
      scenarios:
        - "@Explorer, 음악 스트리밍 시장 기회 분석"
        - "새로운 비즈니스 기회 찾아줘"
    
    content: |
      # Explorer: 7단계 기회 발굴 프로세스
      
      ## 7단계 프로세스
      
      1. **시장 관찰** (Observer 협업)
         - 현재 시장 구조
         - 비효율성 지점
      
      2. **패턴 매칭** (RAG 검색)
         - 유사 패턴 탐색
         - 성공 사례 벤치마크
      
      3. **가설 생성**
         - 기회 가설 수립
         - 근거 수집
      
      4. **정량 검증** (Quantifier 협업)
         - 시장 규모 추정
         - 성장률 분석
      
      5. **데이터 검증** (Validator 협업)
         - 출처 확인
         - 정의 검증
      
      6. **종합 평가** (Guardian 평가)
         - 품질 검증
         - 위험 분석
      
      7. **산출물 작성**
         - OPP_*.md 생성
         - 추적성 확보
      
      ## 산출물
      - `OPP_YYYYMMDD_NNN.md`
      - `opportunity_portfolio.md`
  
  # ========================================
  # Quantifier Tools (정량 분석)
  # ========================================
  
  - tool_id: quantifier:sam_4methods
    tool_key: tool:quantifier:sam_4methods
    
    metadata:
      agent: quantifier
      category: calculation
      complexity: high
      context_size: 600
      priority: high
    
    when_to_use:
      keywords:
        - 시장 규모
        - SAM
        - TAM
        - 크기
        - 계산
      
      scenarios:
        - "@Quantifier, 음악 스트리밍 SAM 계산"
        - "시장 규모 얼마나 되나요?"
    
    content: |
      # Quantifier: SAM 4가지 방법
      
      ## 4가지 방법
      
      ### Method 1: Top-Down
      ```
      TAM (전체 시장)
        → 지역 필터 (한국 15%)
        → 제품 필터 (피아노만 25%)
        → 세그먼트 필터 (프리미엄 40%)
        = SAM
      ```
      
      ### Method 2: Bottom-Up
      ```
      타겟 고객 수
        × 구매율
        × 평균 객단가
        × 구매 빈도
        = SAM
      ```
      
      ### Method 3: Proxy (유사 시장)
      ```
      유사 시장 규모
        × 시장 상관계수
        × 적용 비율
        = SAM
      ```
      
      ### Method 4: Competitor Revenue
      ```
      경쟁사 매출
        × 시장 점유율 역산
        = SAM
      ```
      
      ## 수렴 분석
      - ±30% 범위 내 수렴 필요
      - CV(변동계수) < 30%
      - Max/Min ratio ≤ 1.3
      
      ## 산출물
      - `market_sizing.xlsx` (Excel 자동 생성)
      - 9개 시트 포함
  
  - tool_id: quantifier:growth_analysis
    tool_key: tool:quantifier:growth_analysis
    
    metadata:
      agent: quantifier
      category: analysis
      complexity: medium
      context_size: 400
      priority: normal
    
    when_to_use:
      keywords:
        - 성장률
        - CAGR
        - 추세
        - 전망
    
    content: |
      # Quantifier: 성장 분석
      
      ## CAGR 계산
      ```
      CAGR = (종료값/시작값)^(1/기간) - 1
      ```
      
      ## S-Curve 분석
      - 도입기
      - 성장기
      - 성숙기
      - 쇠퇴기
  
  # ========================================
  # Validator Tools (데이터 검증)
  # ========================================
  
  - tool_id: validator:data_definition
    tool_key: tool:validator:data_definition
    
    metadata:
      agent: validator
      category: validation
      complexity: medium
      context_size: 450
      priority: high
    
    when_to_use:
      keywords:
        - 정의
        - 검증
        - MAU
        - ARPU
        - 용어
      
      scenarios:
        - "@Validator, MAU 정의 확인"
        - "ARPU 계산 방법 검증"
    
    content: |
      # Validator: 데이터 정의 검증
      
      ## 주요 지표 정의
      
      ### MAU (Monthly Active Users)
      - **정의**: 월간 활성 사용자 수
      - **측정 기준**: 최소 1회 이상 로그인
      - **산업별 차이**:
        - SaaS: 유료 기능 사용
        - 소셜: 피드 조회 또는 포스팅
        - 게임: 게임 플레이
      
      ### ARPU (Average Revenue Per User)
      - **정의**: 사용자당 평균 매출
      - **계산**: 총 매출 / MAU
      - **주의**: 무료 사용자 포함 여부
      
      ## 검증 프로토콜
      1. 정의 출처 확인
      2. 산업 표준과 비교
      3. Gap 분석
      4. 명확화
  
  - tool_id: validator:creative_sourcing
    tool_key: tool:validator:creative_sourcing
    
    metadata:
      agent: validator
      category: sourcing
      complexity: high
      context_size: 500
      priority: normal
    
    when_to_use:
      keywords:
        - 데이터
        - 출처
        - 소스
        - 없음
    
    content: |
      # Validator: 창의적 소싱
      
      ## 12가지 소싱 방법
      
      1. 공식 통계 (통계청, 산업협회)
      2. 공시 데이터 (DART, SEC)
      3. 시장 리포트 (Gartner, IDC)
      4. 학술 연구
      5. 언론 보도
      6. 경쟁사 역산
      7. Proxy 데이터
      8. 전문가 인터뷰
      9. 설문 조사
      10. 웹 크롤링
      11. API 데이터
      12. 추정 + 검증
  
  # ========================================
  # Observer Tools (구조 분석)
  # ========================================
  
  - tool_id: observer:market_structure
    tool_key: tool:observer:market_structure
    
    metadata:
      agent: observer
      category: analysis
      complexity: medium
      context_size: 450
      priority: high
    
    when_to_use:
      keywords:
        - 시장 구조
        - 경쟁 구도
        - 가치사슬
      
      scenarios:
        - "@Observer, 음악 스트리밍 시장 구조 분석"
    
    content: |
      # Observer: 시장 구조 분석
      
      ## 분석 프레임워크
      
      ### 1. 13차원 시장 정의
      - 제품/서비스
      - 고객 세그먼트
      - 지역
      - 가격대
      - 채널
      - ...
      
      ### 2. 가치사슬 맵핑
      ```
      공급자 → 제조 → 유통 → 판매 → 고객
      ```
      
      ### 3. 경쟁 구도
      - 시장 점유율
      - 경쟁 강도
      - 진입 장벽
      
      ### 4. 비효율성 발견
      - 중간 마진 과다
      - 정보 비대칭
      - 거래 비용
  
  - tool_id: observer:value_chain
    tool_key: tool:observer:value_chain
    
    metadata:
      agent: observer
      category: mapping
      complexity: medium
      context_size: 350
      priority: normal
    
    content: |
      # Observer: 가치사슬 분석
      
      ## 가치사슬 맵핑
      - 각 단계별 마진율
      - 거래 패턴
      - 병목 지점
  
  # ========================================
  # Framework Tools
  # ========================================
  
  - tool_id: framework:13_dimensions
    tool_key: tool:framework:13_dimensions
    
    metadata:
      agent: framework
      category: definition
      complexity: low
      context_size: 300
      priority: normal
    
    when_to_use:
      keywords:
        - 시장 정의
        - 13차원
        - 범위
    
    content: |
      # Framework: 13차원 시장 정의
      
      ## 13가지 차원
      
      1. **제품/서비스**: 무엇을 파는가?
      2. **고객**: 누구에게 파는가?
      3. **지역**: 어디서 파는가?
      4. **가격대**: 얼마에 파는가?
      5. **채널**: 어떻게 파는가?
      6. **용도**: 어떤 목적으로?
      7. **기술**: 어떤 기술로?
      8. **규제**: 어떤 규제 하에?
      9. **시간**: 언제?
      10. **크기**: 시장 규모
      11. **성장**: 성장률
      12. **트렌드**: 주요 트렌드
      13. **경쟁**: 경쟁 구도
      
      ## 활용
      - TAM/SAM/SOM 정의
      - 시장 세분화
      - 기회 탐색
  
  - tool_id: framework:discovery_sprint
    tool_key: tool:framework:discovery_sprint
    
    metadata:
      agent: framework
      category: process
      complexity: high
      context_size: 600
      priority: high
    
    when_to_use:
      keywords:
        - Discovery
        - 명확도
        - 불확실
        - 탐색
      
      scenarios:
        - "목표가 불명확해요"
        - "어디서부터 시작할지 모르겠어요"
    
    content: |
      # Framework: Discovery Sprint
      
      ## 언제 사용?
      - 명확도 < 7
      - 목표 모호
      - 범위 불확실
      
      ## 프로세스 (1-3일)
      
      ### Day 1: 병렬 탐색
      - 5개 Agent 동시 실행
      - Observer: 시장 구조
      - Explorer: 기회 탐색
      - Quantifier: 규모 추정
      - Validator: 데이터 검증
      - Guardian: 진행 모니터링
      
      ### Day 2: 수렴
      - 발견 사항 종합
      - 목표 구체화
      - 범위 확정
      
      ### Day 3: 계획
      - 상세 분석 계획
      - 역할 분담
      - 타임라인
      
      ## 산출물
      - Discovery Report
      - 구체화된 목표
      - 실행 계획

# ========================================
# END
# ========================================

