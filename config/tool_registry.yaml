# ========================================
# UMIS Tool Registry v7.1.0
# System RAG: Key-based 정확 검색
# ========================================

version: '7.2.0'
created: '2025-11-03'
updated: '2025-11-04'
total_tools: 26  # Guestimation Framework 추가

# ========================================
# 도구 목록
# ========================================

tools:
  
  # ========================================
  # Explorer Tools (RAG 활용)
  # ========================================
  
  - tool_id: explorer:pattern_search
    tool_key: tool:explorer:pattern_search
    
    metadata:
      agent: explorer
      category: rag_search
      complexity: low
      context_size: 350
      priority: high
    
    when_to_use:
      keywords:
        - 패턴
        - 모델
        - 사례
        - 벤치마크
      
      conditions:
        - "agent == 'explorer'"
        - "task_type in ['pattern_discovery', 'model_matching']"
      
      scenarios:
        - "@Explorer, 구독 모델 패턴 찾아줘"
        - "@Explorer, 플랫폼 비즈니스 사례"
        - "음악 스트리밍 비즈니스 모델 분석"
    
    content: |
      # Explorer: RAG 패턴 검색
      
      ## 목적
      31개 비즈니스 모델 + 23개 Disruption 패턴에서 관련 패턴 자동 검색
      
      ## RAG 아키텍처
      - **Vector**: projected_index (agent_view=explorer)
      - **Graph**: Neo4j (13 노드, 45 관계)
      - **Embedding**: text-embedding-3-large (3072 dim)
      
      ## 검색 프로세스
      
      ### 1. Vector Search
      ```python
      from umis_rag.agents.explorer import ExplorerRAG
      
      explorer = ExplorerRAG()
      patterns = explorer.search_patterns("구독 모델")
      
      # 결과
      # → subscription_model (유사도 0.95)
      # → platform + subscription (0.87)
      ```
      
      ### 2. Graph Search (조합 패턴)
      ```python
      combinations = explorer.search_patterns_with_graph("구독 모델")
      
      # 결과
      # → subscription + platform (confidence 0.87)
      # → subscription + advertising (0.78)
      ```
      
      ### 3. Case Search (성공 사례)
      ```python
      cases = explorer.search_cases(
          industry="음악 산업", 
          pattern_id="subscription_model"
      )
      
      # 결과
      # → Spotify (2.2억 구독자, 5.2% churn)
      # → Netflix (해지율 2.4%)
      # → Adobe (구독 전환 후 매출 3배)
      ```
      
      ## 출력 형식
      ```yaml
      matched_patterns:
        - pattern_id: subscription_model
          similarity: 0.95
          critical_success_factors:
            - "해지율 < 5%"
            - "LTV/CAC > 3.0"
          
          success_cases:
            - "Spotify: 5.2% churn"
            - "Netflix: 2.4% churn"
      
      combinations:
        - pattern: subscription + platform
          confidence: 0.87
          evidence:
            - Spotify
            - LinkedIn Premium
          
          insight: "플랫폼 네트워크 효과 + 구독 안정성"
      ```
      
      ## 다음 단계
      - 발견한 패턴으로 7단계 프로세스 시작
      - 또는 사례 심층 분석
  
  - tool_id: explorer:7_step_process
    tool_key: tool:explorer:7_step_process
    
    metadata:
      agent: explorer
      category: process
      complexity: medium
      context_size: 500
      priority: high
    
    when_to_use:
      keywords:
        - 기회
        - 발굴
        - 가설
        - 검증
      
      scenarios:
        - "@Explorer, 음악 스트리밍 시장 기회 분석"
        - "새로운 비즈니스 기회 찾아줘"
    
    content: |
      # Explorer: 7단계 기회 발굴 프로세스
      
      ## 7단계 프로세스
      
      1. **시장 관찰** (Observer 협업)
         - 현재 시장 구조
         - 비효율성 지점
      
      2. **패턴 매칭** (RAG 검색)
         - 유사 패턴 탐색
         - 성공 사례 벤치마크
      
      3. **가설 생성**
         - 기회 가설 수립
         - 근거 수집
      
      4. **정량 검증** (Quantifier 협업)
         - 시장 규모 추정
         - 성장률 분석
      
      5. **데이터 검증** (Validator 협업)
         - 출처 확인
         - 정의 검증
      
      6. **종합 평가** (Guardian 평가)
         - 품질 검증
         - 위험 분석
      
      7. **산출물 작성**
         - OPP_*.md 생성
         - 추적성 확보
      
      ## 산출물
      - `OPP_YYYYMMDD_NNN.md`
      - `opportunity_portfolio.md`
  
  # ========================================
  # Quantifier Tools (정량 분석)
  # ========================================
  
  - tool_id: quantifier:sam_4methods
    tool_key: tool:quantifier:sam_4methods
    
    metadata:
      agent: quantifier
      category: calculation
      complexity: high
      context_size: 600
      priority: high
    
    when_to_use:
      keywords:
        - 시장 규모
        - SAM
        - TAM
        - 크기
        - 계산
      
      scenarios:
        - "@Quantifier, 음악 스트리밍 SAM 계산"
        - "시장 규모 얼마나 되나요?"
    
    content: |
      # Quantifier: SAM 4가지 방법
      
      ## 4가지 방법
      
      ### Method 1: Top-Down
      ```
      TAM (전체 시장)
        → 지역 필터 (한국 15%)
        → 제품 필터 (피아노만 25%)
        → 세그먼트 필터 (프리미엄 40%)
        = SAM
      ```
      
      ### Method 2: Bottom-Up
      ```
      타겟 고객 수
        × 구매율
        × 평균 객단가
        × 구매 빈도
        = SAM
      ```
      
      ### Method 3: Proxy (유사 시장)
      ```
      유사 시장 규모
        × 시장 상관계수
        × 적용 비율
        = SAM
      ```
      
      ### Method 4: Competitor Revenue
      ```
      경쟁사 매출
        × 시장 점유율 역산
        = SAM
      ```
      
      ## 수렴 분석
      - ±30% 범위 내 수렴 필요
      - CV(변동계수) < 30%
      - Max/Min ratio ≤ 1.3
      
      ## 산출물
      - `market_sizing.xlsx` (Excel 자동 생성)
      - 9개 시트 포함
  
  - tool_id: quantifier:growth_analysis
    tool_key: tool:quantifier:growth_analysis
    
    metadata:
      agent: quantifier
      category: analysis
      complexity: medium
      context_size: 400
      priority: normal
    
    when_to_use:
      keywords:
        - 성장률
        - CAGR
        - 추세
        - 전망
    
    content: |
      # Quantifier: 성장 분석
      
      ## CAGR 계산
      ```
      CAGR = (종료값/시작값)^(1/기간) - 1
      ```
      
      ## S-Curve 분석
      - 도입기
      - 성장기
      - 성숙기
      - 쇠퇴기
  
  # ========================================
  # Validator Tools (데이터 검증)
  # ========================================
  
  - tool_id: validator:data_definition
    tool_key: tool:validator:data_definition
    
    metadata:
      agent: validator
      category: validation
      complexity: medium
      context_size: 450
      priority: high
    
    when_to_use:
      keywords:
        - 정의
        - 검증
        - MAU
        - ARPU
        - 용어
      
      scenarios:
        - "@Validator, MAU 정의 확인"
        - "ARPU 계산 방법 검증"
    
    content: |
      # Validator: 데이터 정의 검증
      
      ## 주요 지표 정의
      
      ### MAU (Monthly Active Users)
      - **정의**: 월간 활성 사용자 수
      - **측정 기준**: 최소 1회 이상 로그인
      - **산업별 차이**:
        - SaaS: 유료 기능 사용
        - 소셜: 피드 조회 또는 포스팅
        - 게임: 게임 플레이
      
      ### ARPU (Average Revenue Per User)
      - **정의**: 사용자당 평균 매출
      - **계산**: 총 매출 / MAU
      - **주의**: 무료 사용자 포함 여부
      
      ## 검증 프로토콜
      1. 정의 출처 확인
      2. 산업 표준과 비교
      3. Gap 분석
      4. 명확화
  
  - tool_id: validator:creative_sourcing
    tool_key: tool:validator:creative_sourcing
    
    metadata:
      agent: validator
      category: sourcing
      complexity: high
      context_size: 500
      priority: normal
    
    when_to_use:
      keywords:
        - 데이터
        - 출처
        - 소스
        - 없음
    
    content: |
      # Validator: 창의적 소싱
      
      ## 12가지 소싱 방법
      
      1. 공식 통계 (통계청, 산업협회)
      2. 공시 데이터 (DART, SEC)
      3. 시장 리포트 (Gartner, IDC)
      4. 학술 연구
      5. 언론 보도
      6. 경쟁사 역산
      7. Proxy 데이터
      8. 전문가 인터뷰
      9. 설문 조사
      10. 웹 크롤링
      11. API 데이터
      12. 추정 + 검증
  
  # ========================================
  # Observer Tools (구조 분석)
  # ========================================
  
  - tool_id: observer:market_structure
    tool_key: tool:observer:market_structure
    
    metadata:
      agent: observer
      category: analysis
      complexity: medium
      context_size: 450
      priority: high
    
    when_to_use:
      keywords:
        - 시장 구조
        - 경쟁 구도
        - 가치사슬
      
      scenarios:
        - "@Observer, 음악 스트리밍 시장 구조 분석"
    
    content: |
      # Observer: 시장 구조 분석
      
      ## 분석 프레임워크
      
      ### 1. 13차원 시장 정의
      - 제품/서비스
      - 고객 세그먼트
      - 지역
      - 가격대
      - 채널
      - ...
      
      ### 2. 가치사슬 맵핑
      ```
      공급자 → 제조 → 유통 → 판매 → 고객
      ```
      
      ### 3. 경쟁 구도
      - 시장 점유율
      - 경쟁 강도
      - 진입 장벽
      
      ### 4. 비효율성 발견
      - 중간 마진 과다
      - 정보 비대칭
      - 거래 비용
  
  - tool_id: observer:value_chain
    tool_key: tool:observer:value_chain
    
    metadata:
      agent: observer
      category: mapping
      complexity: medium
      context_size: 350
      priority: normal
    
    content: |
      # Observer: 가치사슬 분석
      
      ## 가치사슬 맵핑
      - 각 단계별 마진율
      - 거래 패턴
      - 병목 지점
  
  # ========================================
  # Framework Tools
  # ========================================
  
  - tool_id: framework:13_dimensions
    tool_key: tool:framework:13_dimensions
    
    metadata:
      agent: framework
      category: definition
      complexity: low
      context_size: 300
      priority: normal
    
    when_to_use:
      keywords:
        - 시장 정의
        - 13차원
        - 범위
    
    content: |
      # Framework: 13차원 시장 정의
      
      ## 13가지 차원
      
      1. **제품/서비스**: 무엇을 파는가?
      2. **고객**: 누구에게 파는가?
      3. **지역**: 어디서 파는가?
      4. **가격대**: 얼마에 파는가?
      5. **채널**: 어떻게 파는가?
      6. **용도**: 어떤 목적으로?
      7. **기술**: 어떤 기술로?
      8. **규제**: 어떤 규제 하에?
      9. **시간**: 언제?
      10. **크기**: 시장 규모
      11. **성장**: 성장률
      12. **트렌드**: 주요 트렌드
      13. **경쟁**: 경쟁 구도
      
      ## 활용
      - TAM/SAM/SOM 정의
      - 시장 세분화
      - 기회 탐색
  
  - tool_id: framework:discovery_sprint
    tool_key: tool:framework:discovery_sprint
    
    metadata:
      agent: framework
      category: process
      complexity: high
      context_size: 600
      priority: high
    
    when_to_use:
      keywords:
        - Discovery
        - 명확도
        - 불확실
        - 탐색
      
      scenarios:
        - "목표가 불명확해요"
        - "어디서부터 시작할지 모르겠어요"
    
    content: |
      # Framework: Discovery Sprint
      
      ## 언제 사용?
      - 명확도 < 7
      - 목표 모호
      - 범위 불확실
      
      ## 프로세스 (1-3일)
      
      ### Day 1: 병렬 탐색
      - 5개 Agent 동시 실행
      - Observer: 시장 구조
      - Explorer: 기회 탐색
      - Quantifier: 규모 추정
      - Validator: 데이터 검증
      - Guardian: 진행 모니터링
      
      ### Day 2: 수렴
      - 발견 사항 종합
      - 목표 구체화
      - 범위 확정
      
      ### Day 3: 계획
      - 상세 분석 계획
      - 역할 분담
      - 타임라인
      
      ## 산출물
      - Discovery Report
      - 구체화된 목표
      - 실행 계획
  
  # ========================================
  # Explorer 추가 Tools
  # ========================================
  
  - tool_id: explorer:validation_protocol
    tool_key: tool:explorer:validation_protocol
    
    metadata:
      agent: explorer
      category: validation
      complexity: medium
      context_size: 400
      priority: high
    
    when_to_use:
      keywords:
        - 검증
        - 확인
        - 타당성
      
      scenarios:
        - "기회 가설 검증"
        - "아이디어 타당성 확인"
    
    content: |
      # Explorer: 검증 프로토콜
      
      ## 7단계 검증
      
      1. **논리적 타당성**
         - 가설이 논리적인가?
         - 인과관계 명확한가?
      
      2. **시장 존재성**
         - 고객이 실제 존재하는가?
         - 시장 규모가 충분한가?
      
      3. **차별화**
         - 기존 대비 10배 나은가?
         - 전환 비용을 상쇄하는가?
      
      4. **실행 가능성**
         - 우리가 할 수 있는가?
         - 필요한 역량이 있는가?
      
      5. **경제성**
         - Unit Economics 성립하는가?
         - LTV/CAC > 3.0?
      
      6. **타이밍**
         - 지금이 적기인가?
         - 시장 준비되었는가?
      
      7. **위험 관리**
         - 주요 위험은?
         - 완화 방안은?
  
  - tool_id: explorer:hypothesis_generation
    tool_key: tool:explorer:hypothesis_generation
    
    metadata:
      agent: explorer
      category: generation
      complexity: high
      context_size: 500
      priority: high
    
    content: |
      # Explorer: LLM 기회 가설 생성
      
      ## 프롬프트 템플릿
      
      ```
      시장 관찰 결과:
      {observer_output}
      
      발견된 패턴:
      {matched_patterns}
      
      성공 사례:
      {benchmark_cases}
      
      질문: 이 시장에서 가능한 3가지 기회는?
      ```
      
      ## 출력 형식
      
      - 기회 가설 3개
      - 각각 근거 명시
      - 실행 가능성 평가
  
  # ========================================
  # Quantifier 추가 Tools
  # ========================================
  
  - tool_id: quantifier:scenario_planning
    tool_key: tool:quantifier:scenario_planning
    
    metadata:
      agent: quantifier
      category: planning
      complexity: medium
      context_size: 350
      priority: normal
    
    content: |
      # Quantifier: 시나리오 계획
      
      ## Best/Base/Worst 3가지 시나리오
      
      ### Best Case (낙관적)
      - 확률: 20%
      - 모든 가정 호조
      - SAM × 1.5
      
      ### Base Case (기본)
      - 확률: 60%
      - 현재 추세 유지
      - SAM × 1.0
      
      ### Worst Case (비관적)
      - 확률: 20%
      - 불리한 요인 발생
      - SAM × 0.7
      
      ## 기대값 계산
      
      Expected = Best×0.2 + Base×0.6 + Worst×0.2
  
  - tool_id: quantifier:benchmark_analysis
    tool_key: tool:quantifier:benchmark_analysis
    
    metadata:
      agent: quantifier
      category: analysis
      complexity: medium
      context_size: 350
      priority: normal
    
    content: |
      # Quantifier: 벤치마크 분석
      
      ## RAG 벤치마크 활용
      
      ```python
      from umis_rag.agents.quantifier import QuantifierRAG
      
      quantifier = QuantifierRAG()
      
      # 유사 시장 벤치마크
      benchmarks = quantifier.search_benchmark("SaaS churn")
      ```
      
      ## 적용
      
      - 유사 산업 벤치마크 찾기
      - 목표 시장에 조정
      - 달성 가능 범위 설정
  
  # ========================================
  # Validator 추가 Tools
  # ========================================
  
  - tool_id: validator:gap_analysis
    tool_key: tool:validator:gap_analysis
    
    metadata:
      agent: validator
      category: analysis
      complexity: high
      context_size: 450
      priority: high
    
    content: |
      # Validator: Gap 분석
      
      ## 정의 Gap 분석
      
      ### 산업별 정의 차이
      
      MAU 예시:
      - SaaS: 로그인 + 유료 기능 사용
      - 소셜: 피드 조회 또는 포스팅
      - 게임: 게임 플레이
      
      → Gap: 최소 행동 기준이 다름
      
      ## 분석 프로토콜
      
      1. 표준 정의 확인
      2. 산업별 변형 파악
      3. Gap 정량화
      4. 조정 또는 명시
  
  - tool_id: validator:source_verification
    tool_key: tool:validator:source_verification
    
    metadata:
      agent: validator
      category: verification
      complexity: medium
      context_size: 400
      priority: high
    
    content: |
      # Validator: 출처 검증
      
      ## RAG 데이터 소스 활용
      
      ```python
      from umis_rag.agents.validator import ValidatorRAG
      
      validator = ValidatorRAG()
      sources = validator.search_data_source("한국 통계")
      ```
      
      ## 신뢰도 평가
      
      - S급: 정부 공식 통계
      - A급: 업계 표준 (Gartner, IDC)
      - B급: 전문 조사 기관
      - C급: 일반 블로그, 언론
      
      ## 검증 체크리스트
      
      - [ ] 출처 명확?
      - [ ] 최신 데이터 (2023+)?
      - [ ] 샘플 크기 충분?
      - [ ] 방법론 명시?
  
  # ========================================
  # Observer 추가 Tools
  # ========================================
  
  - tool_id: observer:inefficiency_detection
    tool_key: tool:observer:inefficiency_detection
    
    metadata:
      agent: observer
      category: detection
      complexity: medium
      context_size: 400
      priority: high
    
    content: |
      # Observer: 비효율성 감지
      
      ## RAG 비효율성 패턴
      
      ```python
      from umis_rag.agents.observer import ObserverRAG
      
      observer = ObserverRAG()
      patterns = observer.search_inefficiency("중간 마진")
      ```
      
      ## 3가지 주요 비효율성
      
      1. **정보 비대칭**
         - 중고차: 품질 정보 부족
         - 부동산: 가격 정보 부족
      
      2. **거래 비용**
         - 탐색, 협상, 이행 비용
      
      3. **중간 마진 과다**
         - 농산물: 4배 마크업
         - 안경: 10배 마크업
      
      ## 기회 발견
      
      비효율성 → 혁신 기회
  
  - tool_id: observer:disruption_opportunity
    tool_key: tool:observer:disruption_opportunity
    
    metadata:
      agent: observer
      category: opportunity
      complexity: high
      context_size: 450
      priority: high
    
    content: |
      # Observer: 파괴적 혁신 기회
      
      ## 탐지 신호
      
      1. **과도한 마진**
         - 중간 단계가 50%+ 마진
      
      2. **과잉 서비스**
         - 대부분 고객은 기본만 필요
         - 프리미엄 기능 미사용
      
      3. **접근성 장벽**
         - 가격, 지역, 전문성
      
      4. **기술 전환점**
         - 새 기술로 10배 저렴
      
      ## Clayton Christensen 프레임워크
      
      - 저가 시장 파괴
      - 신시장 파괴
  
  # ========================================
  # Guardian Tools (신규!)
  # ========================================
  
  - tool_id: guardian:progress_monitoring
    tool_key: tool:guardian:progress_monitoring
    
    metadata:
      agent: guardian
      category: monitoring
      complexity: medium
      context_size: 350
      priority: high
    
    content: |
      # Guardian: 진행 모니터링
      
      ## QueryMemory 활용
      
      - 순환 패턴 감지 (같은 주제 3회 반복)
      - 목표 이탈 감지
      - 시간 소요 추적
      
      ## 개입 시점
      
      - 순환 감지 시: 제안 제시
      - 목표 이탈 시: 재정렬 제안
      - 과도한 시간: 범위 축소 제안
  
  - tool_id: guardian:quality_evaluation
    tool_key: tool:guardian:quality_evaluation
    
    metadata:
      agent: guardian
      category: evaluation
      complexity: high
      context_size: 500
      priority: high
    
    content: |
      # Guardian: 품질 평가
      
      ## ThreeStageEvaluator
      
      ### Stage 1: 규칙 기반 (빠름)
      - 필수 섹션 존재?
      - ID 규칙 준수?
      - 출처 명시?
      
      점수: 0-10
      
      ### Stage 2: 임계값 (중간)
      - Stage 1 < 7 → LLM 호출
      - Stage 1 ≥ 7 → 통과
      
      ### Stage 3: LLM 평가 (정밀)
      - 내용 품질
      - 논리 일관성
      - 실행 가능성
      
      ## 등급
      
      - A: Stage 1 ≥ 8
      - B: Stage 1 6-8
      - C: Stage 1 < 6 (재작업)
  
  # ========================================
  # Framework 추가 Tools
  # ========================================
  
  - tool_id: framework:7_powers
    tool_key: tool:framework:7_powers
    
    metadata:
      agent: framework
      category: strategy
      complexity: high
      context_size: 550
      priority: high
    
    content: |
      # Framework: 7 Powers (Hamilton Helmer)
      
      ## 7가지 경쟁 우위
      
      1. **Scale Economies (규모의 경제)**
         - 생산량 ↑ → 단위 비용 ↓
         - 예: 반도체, 자동차
      
      2. **Network Effects (네트워크 효과)**
         - 사용자 ↑ → 가치 ↑
         - 예: Facebook, KakaoTalk
      
      3. **Counter-Positioning (역포지셔닝)**
         - 1등이 따라할 수 없는 포지션
         - 예: Netflix vs Blockbuster
      
      4. **Switching Costs (전환 비용)**
         - 고객이 바꾸기 어려움
         - 예: Salesforce, Adobe
      
      5. **Branding (브랜드)**
         - 객관적으로 동일해도 선호
         - 예: Apple, Nike
      
      6. **Cornered Resource (독점 자원)**
         - 경쟁사가 구할 수 없는 자원
         - 예: 특허, 라이선스, 인재
      
      7. **Process Power (프로세스 우위)**
         - 오랜 시간 축적된 프로세스
         - 예: Toyota 생산 방식
      
      ## 분석 방법
      
      각 Power별로:
      - 존재 여부 확인
      - 강도 평가 (약/중/강)
      - 지속 가능성
  
  - tool_id: framework:counter_positioning
    tool_key: tool:framework:counter_positioning
    
    metadata:
      agent: framework
      category: strategy
      complexity: high
      context_size: 450
      priority: high
    
    content: |
      # Framework: Counter-Positioning (1등 추월 전략)
      
      ## 개념
      
      1등 기업이 따라하면 기존 사업을 훼손하는 포지션
      
      ## 구조
      
      ```
      1등: 기존 모델에 Lock-in
         ↓ 딜레마
      신규: 새 모델 (1등이 못 따라함)
         ↓
      결과: 시장 역전
      ```
      
      ## 성공 사례
      
      - Netflix vs Blockbuster
        - Blockbuster: 매장 렌탈 (늦은 반납료 수익)
        - Netflix: 구독 (늦은 반납료 없음)
        - Blockbuster가 따라하면 주 수익원 포기
      
      - 전기차 vs 전통 자동차
        - 전통: 엔진, 변속기 (핵심 역량)
        - Tesla: 배터리, 소프트웨어
        - 전통이 따라하면 기존 공장/인력 무용
      
      ## 발견 방법
      
      1. 1등의 수익 구조 분석
      2. 그것을 없애는 모델 고안
      3. 1등이 따라할 수 없는지 확인
  
  - tool_id: framework:value_chain_analysis
    tool_key: tool:framework:value_chain_analysis
    
    metadata:
      agent: framework
      category: analysis
      complexity: medium
      context_size: 400
      priority: normal
    
    content: |
      # Framework: 가치사슬 분석
      
      ## Michael Porter Value Chain
      
      ### 주활동
      - 원재료 → 생산 → 물류 → 마케팅/판매 → 서비스
      
      ### 지원활동
      - 인프라, HR, 기술 개발, 구매
      
      ## 분석 포인트
      
      각 단계별:
      - 마진율
      - 부가가치
      - 차별화 가능성
      - 아웃소싱 가능성
      
      ## 전략 도출
      
      - 수직 통합 (높은 마진 단계 확보)
      - 아웃소싱 (낮은 부가가치)
      - 차별화 집중
  
  - tool_id: framework:market_definition
    tool_key: tool:framework:market_definition
    
    metadata:
      agent: framework
      category: definition
      complexity: medium
      context_size: 400
      priority: high
    
    content: |
      # Framework: 시장 정의 (TAM/SAM/SOM)
      
      ## 13차원 정의
      
      이미 tool:framework:13_dimensions에 있음
      
      ## TAM/SAM/SOM 구분
      
      - TAM: 전체 시장
      - SAM: 공략 가능 시장
      - SOM: 실제 달성 가능
      
      ## 정의 중요성
      
      시장 정의 = 사업 방향
      - 너무 넓음: 집중력 분산
      - 너무 좁음: 성장 제한
  
  - tool_id: framework:competitive_analysis
    tool_key: tool:framework:competitive_analysis
    
    metadata:
      agent: framework
      category: analysis
      complexity: medium
      context_size: 400
      priority: normal
    
    content: |
      # Framework: 경쟁 분석
      
      ## Porter's Five Forces
      
      1. **기존 경쟁자**
         - 경쟁 강도
         - HHI 지수
      
      2. **신규 진입 위협**
         - 진입 장벽
         - 자본 필요
      
      3. **대체재 위협**
         - 다른 해결책
      
      4. **공급자 협상력**
         - 공급자 집중도
      
      5. **구매자 협상력**
         - 고객 집중도
      
      ## 경쟁 구도 맵핑
      
      - 시장 점유율
      - 포지셔닝 맵
      - 차별화 요소

  # ========================================
  # Universal: Guestimation Framework
  # ========================================
  
  - tool_id: universal:guestimation
    tool_key: tool:universal:guestimation
    
    metadata:
      agent: all  # 모든 Agent 사용 가능
      category: estimation_methodology
      complexity: medium
      context_size: 450
      priority: critical
      version: '1.0'
    
    when_to_use:
      keywords:
        - 추정
        - 근사
        - guestimate
        - estimate
        - 대략
        - 추론
      
      conditions:
        - "직접 데이터 없음"
        - "정확한 값 알 수 없음"
        - "짧은 시간 내 판단 필요"
      
      scenarios:
        - "전환율을 추정해야 하는데 데이터가 없어"
        - "시장 규모를 대략적으로 알고 싶어"
        - "이 가정이 합리적인지 검증하고 싶어"
    
    content: |
      # Guestimation Framework
      
      ## 정의
      
      **Guestimation**: 기초적인 지식과 논리적 추론만으로 짧은 시간 안에 대략적인 근사치를 추정하는 방법
      
      ## 세 가지 추정 방법 (Fermi Estimation 기반)
      
      **Guestimation = Fermi Estimation**의 실용적 확장
      - Fermi: 물리학자 Enrico Fermi가 창안
      - 핵심: 큰 문제를 작은 단위로 분해 → Order of Magnitude 추정
      - 목표: 정확한 값이 아니라 "자릿수"만 맞으면 성공
      
      ### 방법 1: Benchmark-based (벤치마크 기반)
      ```
      접근: 유사 사례를 찾아서 적용
      
      프로세스:
        1. RAG/외부에서 유사 벤치마크 검색
        2. 비교 가능성 검증 (4대 기준)
        3. 채택된 벤치마크 기반 추론
      
      적용 사례:
        - 전환율 (유사 서비스 참고)
        - 시장 점유율 (유사 시장 참고)
        - Churn Rate (업계 평균 참고)
      
      장점: 실제 데이터 기반, 신뢰도 높음
      단점: 유사 사례 없으면 불가능
      
      Fermi 관점: 벤치마크를 시작점으로 활용
      ```
      
      ### 방법 2: Decomposition-based (분해 기반) ⭐ Fermi의 핵심!
      ```
      접근: 문제를 작은 단위로 분해하여 계산
      
      프로세스:
        1. 목표를 구성 요소로 분해
        2. 각 요소를 상식/경험으로 추정
        3. 재조립하여 전체 계산
      
      적용 사례:
        - 여행 지출 = 인원 × (교통비 + 식비 + 숙박비)
        - 시장 규모 = 고객 수 × 구매 빈도 × 객단가
        - 전봇대 수 = 면적 × 밀도 × 조정계수
      
      장점: 벤치마크 없어도 가능, 논리 명확
      단점: 각 요소 추정 필요
      
      핵심:
        - First Principles (근본 원리)
        - 상식 + 경험 활용
        - 논리적 분해 구조
        - Order of Magnitude (자릿수만 맞으면 OK)
      
      Fermi 관점:
        - 정확도 목표: ±50% 이내 (자릿수만)
        - "대략 10만개" vs "정확히 123,456개"
        - 보이지 않는 것을 보이게 만들기
      ```
      
      ### 방법 3: Constraint-based (제약조건 기반) ⭐ 신규!
      ```
      접근: 물리적/시간적 제약조건으로 역산
      
      프로세스:
        1. 공급 제약 식별 (시간, 용량, 물리적 한계)
        2. 수요 = 공급 가정 (균형 상태)
        3. 제약조건으로 역산
      
      적용 사례:
        - 자장면 배달량 = 중국집 수 × 요리사 × 시간 × 제조 속도
        - 택시 시장 = 택시 대수 × 운행 시간 × 평균 요금
        - 극장 매출 = 상영관 수 × 좌석 × 상영 횟수 × 티켓 가격
      
      장점: 물리적 근거 명확, 검증 가능
      단점: 제약조건 파악 필요
      
      핵심:
        - Supply-Demand 균형
        - 시간 × 용량 계산
        - 물리적 한계 활용
      ```
      
      ## 방법 선택 가이드
      
      ```
      1. 유사 사례가 있는가?
         YES → Benchmark-based
         NO → 다음 단계
      
      2. 문제를 분해할 수 있는가?
         YES → Decomposition-based
         NO → 다음 단계
      
      3. 공급 제약조건이 명확한가?
         YES → Constraint-based
         NO → 조합 사용
      
      복합 사용:
        - Decomposition으로 분해
        - 일부 요소는 Benchmark
        - 일부 요소는 Constraint
      ```
      
      ## 핵심 요소
      
      ### 1. 기초적인 지식 (Foundation Knowledge)
      
      #### 1.1 프로젝트 데이터
      - 주어진 모든 숫자들
      - 확정된 사실들
      - 검증된 데이터
      
      #### 1.2 보편적 경험 (Universal Experience)
      - 업계 벤치마크
      - 일반적인 경험율
      - 유사 사례
      - RAG에 저장된 패턴/데이터
      
      **AI의 경우**: RAG 데이터 = 보편적 경험
      
      ### 2. 논리적 추론 (Logical Reasoning)
      
      #### 2.1 논리의 연결
      - A → B → C 형태의 단계별 추론
      - 각 단계의 근거 명확화
      - 중간 결과 검증
      
      #### 2.2 합리적 가정
      - "A와 B가 유사하다면..."
      - "보수적으로 가정하면..."
      - "최선/최악의 경우를 고려하면..."
      
      #### 2.3 변수 제거
      - 영향이 작은 변수 무시
      - 상쇄되는 요소 제거
      - 단순화 가능한 부분 통합
      
      #### 2.4 Boundary 설정
      - 상한(Upper Bound): 아무리 높아도 이 이상은 불가능
      - 하한(Lower Bound): 아무리 낮아도 이 이하는 불가능
      - 현실적 범위: 실제로는 이 범위 내에 있을 것
      
      ## Guestimation 8단계 프로세스 (비교 가능성 검증 추가)
      
      ### Step 1: 문제 명확화
      ```
      추정해야 할 것: [무엇을 알고 싶은가?]
      사용 목적: [왜 필요한가?]
      필요 정확도: [±X% 이내면 충분한가?]
      ```
      
      ### Step 2: 기초 지식 수집 (RAG 활용)
      ```
      프로젝트 데이터:
        - 확정된 숫자 1: [값]
        - 확정된 숫자 2: [값]
      
      보편적 경험 (RAG 검색):
        - 후보 1: [데이터] ← RAG
        - 후보 2: [데이터] ← RAG
        - 후보 3: [데이터] ← RAG
      
      ⚠️ 주의: RAG에 있다고 모두 쓸 수 있는 것은 아님!
      ```
      
      ### Step 2.5: 비교 가능성 검증 ⭐ 필수!
      ```
      각 후보 데이터에 대해:
      
      후보 1: [데이터]
        ✓ 비교 가능? [예/아니오]
        ✓ 유사성 근거:
          - 제품/서비스 유형: [동일/유사/다름]
          - 소비 주체: [동일/유사/다름]
          - 가격대: [동일/유사/다름]
          - 구매 맥락: [동일/유사/다름]
        → 판단: [채택/기각]
        → 이유: [구체적 근거]
      
      ⚠️ 기각 기준:
        - 소비 주체 다름 (B2C vs B2B)
        - 제품 속성 다름 (물리적 vs 디지털)
        - 필수재 vs 선택재
        - 가격대 10배 이상 차이
      
      ✅ 채택 기준:
        - 핵심 속성 유사
        - 소비 맥락 유사
        - 가격대 비슷
        - 타겟 고객 유사
      ```
      
      ### Step 3: 추론 경로 설계
      ```
      논리 흐름:
        1. A를 알고 있다
        2. A와 B의 관계는 [경험적으로] X이다
        3. 따라서 B ≈ A × X
        4. B와 C의 관계는 [논리적으로] Y이다
        5. 따라서 C ≈ B × Y
      
      각 단계 근거:
        - Step 1→2: [근거]
        - Step 2→3: [근거]
      ```
      
      ### Step 4: 변수 단순화
      ```
      무시 가능한 변수:
        - 변수 X: 영향 < 5% → 무시
        - 변수 Y: 데이터 없고 영향 미미 → 무시
      
      통합 가능한 변수:
        - A + B ≈ C (둘 다 비슷하므로)
      
      보정 계수:
        - 기본값 × 1.2 (보수적 보정)
      ```
      
      ### Step 5: Boundary 체크
      ```
      상한 (절대 불가능):
        - 전체 시장 규모를 넘을 수 없다
        - 전체 인구보다 많을 수 없다
      
      하한 (최소값):
        - 음수일 수 없다
        - 0보다 작을 수 없다
      
      현실적 범위:
        - 유사 사례들의 범위: [Min ~ Max]
        - 우리 추정: [Value] → 범위 내 ✓
      ```
      
      ### Step 6: 검증
      ```
      Cross-check:
        - 다른 방법으로 계산하면? [대안 계산]
        - 유사 사례와 비교하면? [벤치마크 비교]
        - 상식적으로 납득 가능한가? [직관 체크]
      
      Sensitivity:
        - 핵심 가정이 ±20% 변하면 결과는? [민감도]
        - 영향이 큰 변수: [식별]
      ```
      
      ### Step 7: 신뢰도 평가
      ```
      Confidence Level:
        - High: 유사 데이터 많음, 논리 견고
        - Medium: 일부 가정 필요, 논리 타당
        - Low: 많은 가정, 데이터 부족
      
      Error Range:
        - High → ±10%
        - Medium → ±20%
        - Low → ±30~50%
      ```
      
      ## 사용 예시
      
      ### ✅ 좋은 예시: 피아노 구독 전환율 추정
      
      ```yaml
      Step 1 문제:
        추정 대상: 피아노 렌탈/구독 서비스 전환율
        사용 목적: Bottom-Up SAM 계산
        필요 정확도: ±20%
      
      Step 2 기초 지식 수집 (RAG):
        프로젝트 데이터:
          - 타겟: 피아노 구매 고려 고객
          - 가격: 월 50,000원
          - 제품: 물리적 악기
        
        RAG 검색 결과:
          후보 1: 정수기 구독률 25%
          후보 2: 공기청정기 렌탈률 18%
          후보 3: 음악 앱 구독률 30%
          후보 4: SaaS B2B 전환율 2-5%
      
      Step 2.5 비교 가능성 검증: ⭐
        
        후보 1: 정수기 구독 25%
          제품 유형: 물리적 제품 ✓ (유사)
          소비 주체: 개인 B2C ✓ (동일)
          가격대: 월 3-5만원 ✓ (유사)
          구매 맥락: 가정용 내구재 ✓ (유사)
          필수재 여부: 필수재 (정수기) vs 선택재 (피아노) ✗
          → 판단: 참고 가능, 단 보정 필요
          → 이유: 필수재가 선택재보다 전환율 높음
        
        후보 2: 공기청정기 렌탈 18%
          제품 유형: 물리적 제품 ✓
          소비 주체: 개인 B2C ✓
          가격대: 월 3-5만원 ✓
          구매 맥락: 가정용 내구재 ✓
          필수재 여부: 준필수재 (미세먼지) vs 선택재 △
          → 판단: 채택 ✅
          → 이유: 선택재에 가까워 더 적절한 비교군
        
        후보 3: 음악 앱 구독 30%
          제품 유형: 디지털 앱 ✗ (다름)
          소비 주체: 개인 B2C ✓
          가격대: 월 1만원 ✗ (5배 차이)
          구매 맥락: 디지털 콘텐츠 ✗ (다름)
          → 판단: 기각 ❌
          → 이유: 물리적 제품 vs 디지털, 가격대 차이
        
        후보 4: SaaS B2B 전환율 2-5%
          제품 유형: 소프트웨어 ✗
          소비 주체: 기업 B2B ✗ (다름)
          → 판단: 기각 ❌
          → 이유: 소비 주체가 완전히 다름
        
        최종 채택:
          ✅ 공기청정기 렌탈: 18% (주 비교군)
          ✅ 정수기 구독: 25% (참고, 보정 필요)
      
      Step 3 추론 경로:
        1. 피아노 구독 ≈ 공기청정기 렌탈
           - 물리적 제품
           - 가정용 내구재
           - 선택재
           - 월 5만원대
        
        2. 공기청정기: 18%
        
        3. 피아노 조정:
           - 공기청정기보다 니치 시장 → 약간 낮을 것
           - 하지만 관심 고객만 타겟 → 비슷할 것
           - 최종: 15% (약간 보수적)
        
        4. 검산: 정수기 25% (필수재) > 피아노 15% (선택재) > SaaS 5% (B2B) ✓
      
      Step 4 변수 단순화:
        무시: 지역별 차이 (한국 내 단일 시장)
        무시: 계절성 (연평균 사용)
      
      Step 5 Boundary:
        상한: 25% (정수기 수준, 필수재)
        하한: 10% (선택재 최소)
        현실 범위: 12~20%
        우리 추정: 15% ✓
      
      Step 6 검증:
        Cross-check: 
          - 5만원 가격에 15% = 월 7,500원 마케팅 비용 → 합리적
          - 유사 제품군 내 위치: 정수기(25%) > 피아노(15%) > 앱(필터링) ✓
        
        Sensitivity:
          - 12~18% 범위 → SAM 변동 ±20%
          - 허용 가능
      
      Step 7 대안 검토:
        시도 1: 설문조사 → 예산/시간 부족
        시도 2: 베타 테스트 → 서비스 출시 전
        시도 3: 경쟁사 데이터 → 비공개
        → 현재 방법이 가용 데이터로 최선
      
      Step 8 신뢰도:
        Confidence: Medium
        근거: 비교 가능한 사례 1개 (공기청정기), 교차 검증 완료
        Error Range: ±20%
      ```
      
      ### ❌ 나쁜 예시: 같은 문제를 잘못 추정
      
      ```yaml
      Step 2 기초 지식 (잘못된 방법):
        RAG 검색:
          - 기타 구독: 12%  # ❌ miscellaneous가 아니라 guitar로 오해
          - 음악 앱: 18%     # ❌ 디지털 vs 물리적 제품
          - SaaS 평균: 2-5%  # ❌ B2B 포함, 소비주체 다름
      
      Step 2.5 비교 가능성 검증 (누락!): ⚠️
        → 검증하지 않고 바로 사용
      
      Step 3 추론 (잘못된 논리):
        "중간값을 쓰면 되겠지"
        → (12% + 18%) / 2 = 15%
      
      문제점:
        1. "기타"를 guitar로 오해 (단어 오류)
        2. 음악 앱 (디지털) vs 피아노 (물리적) - 비교 불가
        3. SaaS B2B vs 피아노 B2C - 소비주체 다름
        4. 비교 가능성 검증 없이 평균 계산
        5. 우연히 답이 비슷해 보일 뿐, 논리적 근거 없음
      
      교훈:
        ❌ RAG에 있다고 모두 쓸 수 있는 것은 아님
        ❌ 키워드 매칭 ≠ 맥락 이해
        ❌ "데이터가 있다" ≠ "사용해야 한다"
      ```
      
      ### ✅ 좋은 예시 2: Decomposition-based (휴일 여행 지출)
      
      ```yaml
      방법: Decomposition (문제 분해)
      
      Step 1 문제:
        추정 대상: 휴일이 하루 늘면 여행 지출 증가액
        필요 정확도: 대략적 규모감 (±30%)
      
      Step 2 문제 분해: ⭐
        총 지출 = 인원 × 1인당 지출
        1인당 지출 = 교통비 + 식비 + 숙박비
      
      Step 3 각 요소 추정 (상식/경험):
        인원:
          - 전체 인구: 5,000만 (상식)
          - 여행 비율: 1/20 = 5% (가정)
          - 여행 인원: 250만명
        
        교통비:
          - 고속버스 편도: 1.5~2만원 (상식)
          - 왕복: 3~4만원
        
        식비:
          - 2끼 × 1만원 = 2만원 (경험)
        
        숙박비:
          - 1박: 4~5만원 (경험, 저렴한 숙소)
        
        1인당 지출: 3.5만 + 2만 + 4.5만 = 10만원
      
      Step 4 재조립:
        총 지출 = 250만 × 10만 = 2,500억원
      
      Step 5 Boundary:
        상한: 5,000만 × 20만 (모두 고급 여행) = 10조원
        하한: 100만 × 5만 (최소) = 500억원
        현실: 1,000억 ~ 5,000억
        추정: 2,500억 ✓
      
      Step 6 검증:
        Cross-check: 1인당 10만원은 합리적 (저렴한 1박 여행)
        Sensitivity: 여행 비율 3~7% → 1,500~3,500억
      
      특징:
        ✅ 벤치마크 없음!
        ✅ 순수 논리적 분해
        ✅ 상식 + 경험만 사용
        ✅ First Principles
      ```
      
      ### ✅ 좋은 예시 3: Constraint-based (자장면 배달량)
      
      ```yaml
      방법: Constraint-based (제약조건 역산)
      
      Step 1 문제:
        추정 대상: 2021년 서울 중국집 하루 자장면 배달량
      
      Step 2 Supply-side 제약 식별:
        제약 1: 중국집 개수
        제약 2: 요리사 수
        제약 3: 제조 시간
        제약 4: 운영 시간
      
      Step 3 중국집 개수 역산: ⭐
        경제활동인구: 500만 (세대별 125만 × 4세대)
        
        점심 수요 = 공급 가정:
          - 점심시간: 2시간 (11:30~13:30)
          - 1인당 식사시간: 30분
          - 테이블 회전: 4회
          - 30분당 소화: 125만명
        
        음식점 필요 용량:
          - 테이블당 인원: 3명 (경험)
          - 음식점당 테이블: 10개 (경험)
          - 음식점 수: 125만 / (10 × 3) = 약 4만개
        
        중국집:
          - 음식점 종류: 5개 (한중일양기타)
          - 균등 분배 가정
          - 중국집: 4만 / 5 = 8,000개
      
      Step 4 제조 용량 계산:
        요리사:
          - 중국집당 요리사: 2명 (경험)
          - 제조 시간: 10분/4그릇 (경험)
        
        운영 시간 구분:
          - Peak time: 4시간 (점심 2h + 저녁 2h)
            → 10분에 4그릇 → 시간당 24그릇 → 4h = 96그릇
          - Normal time: 3시간 (오전 1.5h + 야간 1.5h)
            → 10분에 1그릇 → 시간당 6그릇 → 3h = 18그릇
          - Break: 2.5시간 (15:00~17:30) → 0그릇
        
        중국집당 하루 제조:
          - 요리사 2명 × (96 + 18) / 2 = 약 66그릇
      
      Step 5 외부 요인:
        COVID19 (2021): 배달 비중 80% (가정)
      
      Step 6 최종 계산:
        배달량 = 8,000개 × 66그릇 × 80%
               = 422,400그릇
               ≈ 42만 그릇
      
      Step 7 검증:
        Boundary:
          - 상한: 8,000 × 100그릇 (full) × 100% = 80만
          - 하한: 8,000 × 30그릇 × 50% = 12만
          - 추정: 42만 ✓
        
        Cross-check:
          - 서울 인구 1,000만 / 42만 = 24명 중 1명
          - 합리적 (중국집 비인기 + 특정 요일)
      
      특징:
        ✅ 벤치마크 없음!
        ✅ 물리적 제약조건 활용
        ✅ Supply-Demand 균형
        ✅ 시간 × 용량 계산
        ✅ 단계적 역산
      ```
      
      ### ✅ 좋은 예시 4: Decomposition + Constraint (전봇대 수) - Fermi 고전!
      
      ```yaml
      방법: Decomposition + Constraint 조합
      
      Step 1 문제:
        추정 대상: 대한민국 전봇대 총 개수
        목표 정확도: Order of Magnitude (백만 단위)
      
      Step 2 지리적 모델링: ⭐ (보이지 않는 것 → 보이게)
        공식: 전봇대 수 = 면적 × 밀도 × 조정계수
      
      Step 3 기초 데이터 (상식):
        국토 면적: 100,000 km²
        산지 비율: 70%
        실거주지: 30,000 km²
      
      Step 4 밀도 계산 (제약조건):
        전봇대 간격: 70m (경험, 군대)
        
        1 km² = 1,000m × 1,000m
        1방향 전봇대: 1,000m / 70m ≈ 14개
        1 km²당 전봇대: 14 × 14 ≈ 200개
      
      Step 5 지역별 조정:
        서울 + 6대 광역시:
          - 면적: 6,000 km²
          - 인구: 2,237만 (총 4,850만의 46%)
          - 밀도: 2배 (도시 > 시골)
          - 전봇대: 6,000 × 200 × 2 = 240만개
        
        나머지 지역:
          - 면적: 24,000 km² (30,000 - 6,000)
          - 인구: 2,613만 (54%)
          - 밀도: 1배 (기본)
          - 전봇대: 24,000 × 200 × 1 = 480만개
      
      Step 6 최종 계산:
        총 전봇대 = 240만 + 480만 = 720만개
      
      Step 7 검증:
        실제 (한전 공시): 858만개
        오차: (858 - 720) / 858 = 16%
        자릿수: ✅ 백만 단위 일치!
      
      Step 8 Fermi 평가:
        목표: 백만 단위 추정
        결과: 720만 vs 858만 (같은 자릿수)
        → ✅ 성공!
      
      특징:
        ✅ 지리적 모델 (면적 × 밀도)
        ✅ 물리적 제약 (70m 간격)
        ✅ 비율 조정 (도시 2배)
        ✅ Order of Magnitude 달성
        ✅ "보이지 않는 것을 보이게"
      
      Fermi 철학:
        - 정답보다 "추정 과정"이 중요
        - 보이지 않는 것을 보이는 모습으로
        - 자릿수만 맞으면 충분
        - 논리적 모델 구축
      ```
      
      ### 예시 2: 시장 필터 비율 (Benchmark-based)
      
      ```yaml
      Step 1 문제:
        추정 대상: 전체 악기 중 피아노 비중
        사용 목적: Top-Down Narrowing
        필요 정확도: ±10%
      
      Step 2 기초 지식:
        프로젝트 데이터:
          - 전체 악기 시장: 1000억
        
        보편적 경험 (RAG):
          - Google Trends: 피아노 검색량 25%
          - 악기 분류: 건반 35%, 현악 30%, 관악 20%, 타악 15%
      
      Step 3 추론:
        1. 검색량 = 관심도 = 대략적 시장 비중
        2. 피아노는 건반악기의 주요 품목
        3. 건반 35% × (피아노 비중 70%) ≈ 25%
        4. 검색량 25%와 일치 → 신뢰도 상승
      
      Step 4 단순화:
        무시: 수입/국내 비율 (데이터 없음)
        검증: 검색량과 계산 일치
      
      Step 5 Boundary:
        상한: 35% (건반 악기 전체)
        하한: 15% (건반 내 최소 비중)
        현실: 20~30%
        우리 추정: 25% ✓
      
      Step 6 검증:
        Cross-check: 두 가지 방법 모두 25%
        Sensitivity: ±5%p 변동 → SAM ±20%
      
      Step 7 신뢰도:
        Confidence: Medium (독립 검증 2개)
        Error Range: ±10%
      ```
      
      ## 대체 접근법 평가 기준
      
      ### 시도했지만 실패한 방법 기록
      
      ```
      대안 1: [방법명]
        시도 내용: [구체적 시도]
        실패 이유: [데이터 부족 / 시간 부족 / 신뢰도 낮음]
        배운 점: [인사이트]
      
      대안 2: [방법명]
        ...
      
      현재 방법 선택 이유:
        - 가용 데이터로 최선
        - 시간 내 실행 가능
        - 검증 가능
      ```
      
      ## RAG 활용 가이드 (비판적 사고)
      
      ### ⚠️ RAG 사용 시 주의사항
      
      ```
      RAG는 도구일 뿐, 답이 아님:
        - RAG 결과 = 후보 데이터 (검증 전)
        - 키워드 매칭 ≠ 맥락 일치
        - 많은 데이터 ≠ 좋은 추정
      
      필수 절차:
        1. RAG 검색 (후보 수집)
        2. 비교 가능성 검증 (필터링) ⭐
        3. 채택/기각 명시적 판단
        4. 논리적 추론
      ```
      
      ### Quantifier가 RAG 검색 시 (개선된 방법)
      
      ```python
      # 1. 넓게 검색 (후보 수집)
      query = "제품 구독 서비스 전환율"
      candidates = search_benchmarks(query)
      # 결과: 정수기, 공기청정기, 음악 앱, SaaS...
      
      # 2. 비교 가능성 검증 (필터링)
      filtered = []
      for candidate in candidates:
          # 속성 비교
          if candidate.product_type == "물리적 제품" and \
             candidate.consumer_type == "B2C" and \
             abs(candidate.price - target_price) < target_price * 3:
              filtered.append(candidate)
          else:
              print(f"기각: {candidate.name} - {이유}")
      
      # 3. 채택된 데이터로 추론
      if filtered:
          base_value = filtered[0].value
          logic = build_reasoning(base_value, adjustments)
      else:
          # RAG에 적절한 데이터 없음 → 다른 방법
          alternative_approach()
      
      # ❌ 나쁜 예:
      # average = mean([c.value for c in candidates])  # 비교 불가능한 것 포함!
      ```
      
      ### 비교 가능성 자동 체크 (향후 구현)
      
      ```python
      def check_comparability(target, candidate):
          """
          비교 가능성 자동 평가
          
          Returns:
              score: 0~4 (4점 만점)
              reason: 채택/기각 이유
          """
          score = 0
          reasons = []
          
          # 1. 제품 속성
          if target.product_type == candidate.product_type:
              score += 1
              reasons.append("제품 속성 동일")
          
          # 2. 소비 주체
          if target.consumer_type == candidate.consumer_type:
              score += 1
              reasons.append("소비 주체 동일")
          
          # 3. 가격대 (±3배 이내)
          if abs(target.price - candidate.price) < target.price * 3:
              score += 1
              reasons.append("가격대 유사")
          
          # 4. 구매 맥락
          if target.purchase_context == candidate.purchase_context:
              score += 1
              reasons.append("구매 맥락 유사")
          
          # 판단: 3점 이상이면 비교 가능
          comparable = score >= 3
          
          return {
              'score': score,
              'comparable': comparable,
              'reasons': reasons
          }
      ```
      
      ## 핵심 원칙
      
      ### 원칙 1: 비교 가능성이 전제조건
      ```
      ⚠️ RAG에 있다고 모두 쓸 수 있는 것은 아님
      ⚠️ 키워드 매칭 ≠ 맥락 이해
      ⚠️ "데이터가 있다" ≠ "사용해야 한다"
      
      ✅ 비교 가능성 4대 기준:
        1. 제품/서비스 속성 (물리적/디지털, 내구재/소모품)
        2. 소비 주체 (B2C/B2B, 개인/기업)
        3. 가격대 (±3배 이내 권장)
        4. 구매 맥락 (필수재/선택재, 충동구매/신중구매)
      
      → 4개 중 3개 이상 유사해야 비교 가능
      ```
      
      ### 원칙 2: 논리 > 데이터
      ```
      ❌ 나쁜 예: "RAG에서 3개 찾았으니 평균 내자"
      ✅ 좋은 예: "A는 비교 가능, B는 불가. A 기반 추론"
      
      → 논리적으로 타당하면 데이터 1개도 충분
      → 논리 없으면 데이터 100개도 무의미
      ```
      
      ### 원칙 3: 명시적 기각
      ```
      기각한 데이터도 문서화:
        - 후보 X: [데이터]
        - 기각 이유: [구체적 근거]
        - 배운 점: [인사이트]
      
      → 왜 이 데이터를 안 썼는지 설명 필요
      → 투명성과 재현 가능성 확보
      ```
      
      ### 원칙 4: 보수적 추정
      ```
      불확실하면 낮게:
        - 시장 규모: 보수적으로
        - 전환율: 보수적으로
        - 성장률: 보수적으로
      
      → 과대 추정보다 과소 추정이 안전
      → "최소한 이 정도는 된다" 관점
      ```
      
      ## 품질 기준
      
      ### Good Guestimation
      - ✅ 비교 가능성 검증 완료 ⭐
      - ✅ 기각한 데이터도 명시
      - ✅ 논리적 연결 명확
      - ✅ 각 단계 근거 있음
      - ✅ Boundary 체크 완료
      - ✅ 대안 방법 고려함
      - ✅ 검증 가능
      
      ### Bad Guestimation
      - ❌ 비교 가능성 검증 없음 ⚠️
      - ❌ RAG 데이터 무조건 사용
      - ❌ "그냥 20%로 가정"
      - ❌ 근거 없는 평균
      - ❌ 논리 비약
      - ❌ Boundary 무시
      - ❌ 검증 불가능
      
      ## 문서화 템플릿 (8단계 기반)
      
      ```yaml
      EST_ID: [ID]
      Item: [추정 항목]
      Final_Value: [결과값]
      
      [1] 추정 필요 이유:
        - 직접 데이터: [없는 이유]
        - 대안 시도: [시도한 방법들]
      
      [2] 기초 지식 수집:
        프로젝트 데이터:
          - [데이터 1]: [값]
          - [데이터 2]: [값]
        
        RAG 검색 결과:
          - 후보 1: [데이터] ← RAG
          - 후보 2: [데이터] ← RAG
          - 후보 3: [데이터] ← RAG
      
      [2.5] 비교 가능성 검증: ⭐ 필수!
        후보 1: [데이터]
          제품 속성: [동일/유사/다름]
          소비 주체: [동일/유사/다름]
          가격대: [동일/유사/다름]
          구매 맥락: [동일/유사/다름]
          → 판단: [채택/기각]
          → 이유: [구체적 근거]
        
        후보 2: [데이터]
          ...
          → 판단: [채택/기각]
          → 이유: [구체적 근거]
        
        최종 채택 데이터:
          ✅ [데이터명]: [값] (주 비교군)
          ✅ [데이터명]: [값] (참고)
      
      [3] 추정 논리 (단계별):
        Step 1: [논리]
        Step 2: [논리]
        Step 3: [논리]
        최종: [결과]
      
      [4] 변수 단순화:
        무시: [변수] (이유: [근거])
        보정: [계수] (이유: [근거])
      
      [5] Boundary 검증:
        Upper Bound: [값] (이유: [절대 불가능 근거])
        Lower Bound: [값] (이유: [절대 불가능 근거])
        현실 범위: [Min ~ Max]
        우리 추정: [값] ✓
      
      [6] 검증:
        Cross-check: [대안 계산 또는 직관 체크]
        Sensitivity: [±X% 변동 시 영향]
      
      [7] 대체 접근법:
        시도 1: [방법] → [결과] (실패 이유: [근거])
        시도 2: [방법] → [결과] (실패 이유: [근거])
        선택 이유: [현재 방법이 최선인 이유]
      
      [8] 신뢰도 평가:
        Confidence: [High/Medium/Low]
        Error Range: [±X%]
        근거: [구체적 이유]
      
      [9] 사용 위치:
        - Assumptions: [ASM_NNN]
        - Method: [어디에 사용]
      ```
      
      ## 품질 기준
      
      ### Good Guestimation
      - ✅ 비교 가능성 검증 완료 ⭐ (가장 중요!)
      - ✅ 기각한 데이터도 명시 (투명성)
      - ✅ 논리적 연결 명확
      - ✅ 각 단계 근거 있음
      - ✅ Boundary 체크 완료
      - ✅ 대안 방법 고려함
      - ✅ 검증 가능
      
      ### Bad Guestimation
      - ❌ 비교 가능성 검증 없음 ⚠️ (치명적!)
      - ❌ RAG 데이터 무조건 사용
      - ❌ 키워드 매칭만으로 채택
      - ❌ "그냥 20%로 가정"
      - ❌ 근거 없는 평균
      - ❌ 논리 비약
      - ❌ Boundary 무시
      - ❌ 검증 불가능

# ========================================
# END
# ========================================

