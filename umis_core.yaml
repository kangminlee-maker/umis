# ========================================
# UMIS Core (INDEX) v7.7.0
# ========================================

version: 7.7.0
updated: 2025-11-12

purpose: |
  System RAG INDEX - AI가 어떤 도구를 로드할지 안내
  
structure:
  total_tools: 44
  tiers:
    tier_1_system: 9개 (umis.yaml 시스템 섹션)
    tier_2_complete: 6개 (Agent 전체 컨텍스트)
    tier_3_task: 29개 (세분화, 빠른 조회)

# ========================================
# AI 사용 가이드
# ========================================

ai_guide:
  
  step_1_choose_tier:
    question: 사용자가 무엇을 원하는가?
    
    answers:
      system_understanding:
        intent: UMIS 시스템 전체 이해
        tier: Tier 1 (System)
        tools:
          - tool:system:system_architecture
          - tool:system:implementation_guide
        context: ~6,400 tokens
      
      agent_work:
        intent: 특정 Agent 실제 작업 (권장!)
        tier: Tier 2 (Complete)
        tools:
          - tool:observer:complete
          - tool:explorer:complete
          - tool:quantifier:complete
        context: ~8,200 tokens (3개)
        note: umis.yaml 참조 불필요!
      
      quick_check:
        intent: 빠른 개념 확인
        tier: Tier 3 (Task)
        tools:
          - tool:observer:market_structure
          - tool:quantifier:sam_4methods
        context: ~800 tokens
        note: 실제 작업 시 Complete로 전환

  step_2_load_tools:
    command: python3 scripts/query_system_rag.py {tool_key}
    
    examples:
      - python3 scripts/query_system_rag.py tool:observer:complete
      - python3 scripts/query_system_rag.py tool:system:system_architecture

# ========================================
# 도구 목록
# ========================================

tools:
  
  tier_1_system:
    - tool:system:system_architecture (~1,774 tokens)
    - tool:system:system (~4,799 tokens)
    - tool:system:agents (~16,578 tokens, 매우 큼!)
    - tool:system:implementation_guide (~4,623 tokens)
    - tool:system:data_integrity_system (~4,154 tokens)
    - tool:system:adaptive_intelligence_system (~3,201 tokens)
    - tool:system:proactive_monitoring (~2,782 tokens)
    - tool:system:support_validation_system (~840 tokens)
    - tool:system:roles (~2,464 tokens)
  
  tier_2_complete:
    - tool:observer:complete (~1,676 tokens)
    - tool:explorer:complete (~3,559 tokens)
    - tool:quantifier:complete (~2,998 tokens)
    - tool:validator:complete (~2,430 tokens)
    - tool:guardian:complete (~1,954 tokens)
    - tool:estimator:complete (~3,584 tokens)
  
  tier_3_task:
    count: 29
    examples:
      - tool:observer:market_structure
      - tool:explorer:pattern_search
      - tool:quantifier:sam_4methods
      - tool:validator:data_definition
      - (25개 더)

# ========================================
# 사용 패턴
# ========================================

usage_patterns:
  
  pattern_general_work:
    description: 일반적인 Agent 작업
    tools:
      - tool:observer:complete
      - tool:explorer:complete
    context: ~5,235 tokens
    savings: 87%
    recommended: true
  
  pattern_market_analysis:
    description: 시장 분석 (3 Agent)
    tools:
      - tool:observer:complete
      - tool:explorer:complete
      - tool:quantifier:complete
    context: ~8,233 tokens
    savings: 80%
    recommended: true
  
  pattern_system_learning:
    description: 시스템 학습
    tools:
      - tool:system:system_architecture
      - tool:system:implementation_guide
    context: ~6,397 tokens
    savings: 84%
  
  pattern_quick_check:
    description: 빠른 조회
    tools:
      - tool:quantifier:sam_4methods
    context: ~461 tokens
    savings: 99%
    note: 실제 작업 시 Complete로

# ========================================
# 핵심 원칙
# ========================================

key_principles:
  
  for_ai:
    principle_1: 실제 작업 = Tier 2 (Complete) 사용!
    principle_2: Complete 사용 시 umis.yaml 참조 불필요
    principle_3: 필요한 도구만 로드 (75-96% 절약)
    principle_4: tool:system:agents는 너무 큼 (개별 Complete 권장)
  
  for_developers:
    principle_1: umis.yaml만 편집 (Source of Truth)
    principle_2: tool_registry.yaml 편집 금지 (자동 생성)
    principle_3: 수정 후 sync_umis_to_rag.py 실행
    principle_4: 백업 자동 생성 (안전)

# ========================================
# 끝
# ========================================
