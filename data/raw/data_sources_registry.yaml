# Data Sources Registry
# Validator가 확정 데이터 검색에 사용하는 공식 통계 및 벤치마크

meta:
  version: "1.1.0"
  created: "2025-11-10"
  updated: "2025-11-12"
  description: "확정 데이터 출처 및 값 (v1.1: DART/KOSIS API 추가)"
  total_sources: 52
  agent: "validator"
  
  api_sources:
    dart_api:
      enabled: true
      description: "DART 전자공시 API (상장사 재무제표)"
      env_key: "DART_API_KEY"
      url: "https://opendart.fss.or.kr/api"
    
    kosis_api:
      enabled: true
      description: "KOSIS 통계청 API (산업별 통계)"
      env_key: "KOSIS_API_KEY"
      url: "https://kosis.kr/openapi"

# ========================================
# 카테고리 0: API 기반 데이터 소스 (v1.1 신규)
# ========================================

api_data_sources:
  
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # DART 전자공시 API
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  
  dart_financials:
    source_id: "API-DART-001"
    source_name: "DART 전자공시시스템 API"
    category: "상장사 재무제표"
    version: "1.0.0"
    verification_date: "2025-11-13"
    verified_companies: 11
    verified_items: 537
    
    api_info:
      endpoint: "https://opendart.fss.or.kr/api"
      authentication: "API Key (DART_API_KEY)"
      rate_limit: "1 request/second"
      cost: "무료"
      
    verified_features:
      - "상장사 우선 매칭 (stock_code 체크)"
      - "900 오류 재시도 (3회)"
      - "개별재무제표(OFS) 우선"
      - "ZIP 압축 자동 해제"
      
    core_endpoints:
      corpCode: "기업 코드 조회"
      fnlttSinglAcntAll: "재무제표"
      list: "공시 목록"
      document: "원문 (ZIP)"
    
    utility_module: "umis_rag.utils.dart_api.DARTClient"
    
    data_available:
      - "상장사 2,000개+ 재무제표"
      - "매출액, 매출원가, 영업이익"
      - "매출총이익률, 영업이익률 계산 가능"
      - "연결/개별 재무제표"
      - "사업보고서, 분기보고서"
    
    usage:
      script: "scripts/collect_dart_financials.py"
      method: "자동 수집"
      output: "data/raw/dart_collected_benchmarks.yaml"
    
    example_companies:
      - "스타벅스코리아 (커피)"
      - "BGF리테일 (편의점 CU)"
      - "GS리테일 (편의점 GS25)"
      - "이마트 (대형마트)"
      - "아모레퍼시픽 (화장품)"
    
    metadata:
      reliability: "verified"
      data_type: "actual"
      update_frequency: "분기별/연간"
      api_key_required: true
      api_key_source: "https://opendart.fss.or.kr"
    
    validator_integration:
      search_method: "search_dart_company_financials"
      query_examples:
        - "스타벅스코리아 영업이익률은?"
        - "BGF리테일 마진은?"
        - "이마트 수익성은?"
      
      response_format:
        value: "0.148 (14.8%)"
        source: "DART 2024년 사업보고서"
        reliability: "verified"
        verification_url: "https://dart.fss.or.kr/..."
    
    notes: |
      - 100% 실제 데이터
      - API Key 필수 (.env 설정)
      - 상장사만 가능
      - 비상장 기업은 불가
  
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # KOSIS 통계청 API
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  
  kosis_industry_statistics:
    source_id: "API-KOSIS-001"
    source_name: "KOSIS 통계청 기업경영분석 API"
    category: "산업별 재무비율 통계"
    
    api_info:
      endpoint: "https://kosis.kr/openapi"
      authentication: "API Key (KOSIS_API_KEY)"
      approval_time: "1-2일"
      cost: "무료"
    
    data_available:
      - "산업별 평균 마진율 (KSIC 기준)"
      - "매출총이익률, 영업이익률"
      - "50,000개+ 기업 통계"
      - "제조, 도소매, 서비스업 등 전 산업"
    
    usage:
      script: "scripts/collect_kosis_statistics.py"
      method: "API 또는 수동 수집"
      output: "data/raw/kosis_collected_benchmarks.yaml"
    
    key_industries:
      - "음식점업 (KSIC 56)"
      - "소매업 (KSIC 47)"
      - "미용업 (KSIC 96)"
      - "보건업 (KSIC 86)"
      - "교육서비스업 (KSIC 85)"
      - "스포츠/오락업 (KSIC 91)"
      - "제조업 (KSIC 10-33)"
      - "건설업 (KSIC 41-42)"
      - "숙박업 (KSIC 55)"
    
    metadata:
      reliability: "verified"
      data_type: "statistical_average"
      sample_size: "50,000+ 기업/산업"
      update_frequency: "연 1회"
      api_key_required: true
      api_key_source: "https://kosis.kr/openapi"
    
    validator_integration:
      search_method: "search_kosis_industry_average"
      query_examples:
        - "음식점업 평균 영업이익률은?"
        - "소매업 마진은?"
        - "미용업 수익성은?"
      
      response_format:
        value: "0.089 (8.9%)"
        source: "통계청 기업경영분석 2024, KSIC 56 (음식점업)"
        sample_size: "15,234개 기업"
        reliability: "verified"
        verification_url: "https://kosis.kr/..."
    
    notes: |
      - 공식 통계 (신뢰도 100%)
      - 산업 평균 (개별 기업 아님)
      - API Key 필요 (승인 1-2일)
      - 수동 수집도 가능 (kosis.kr)

# ========================================
# 카테고리 1: 공식 통계 (정부/공공기관)
# ========================================

official_statistics:

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 인구/가구 통계 (통계청)
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  korea_population:
    source_id: "STAT-001"
    source_name: "통계청"
    category: "인구통계"

    data_point: "한국 총인구"
    value: 51740000
    unit: "명"
    definition: "주민등록인구 기준"

    metadata:
      year: 2024
      month: "01"
      reliability: "매우 높음"
      update_frequency: "분기별"
      access_method: "KOSIS (국가통계포털)"
      url: "https://kosis.kr"

    related_queries:
      - "한국 인구는?"
      - "대한민국 인구는?"
      - "한국 총인구는?"

    notes:
      - "외국인 포함"
      - "분기별 업데이트"

  seoul_population:
    source_id: "STAT-002"
    source_name: "통계청"
    category: "인구통계"

    data_point: "서울시 인구"
    value: 9500000
    unit: "명"

    metadata:
      year: 2024
      reliability: "매우 높음"
      access_method: "KOSIS"

    related_queries:
      - "서울 인구는?"
      - "서울시 인구는?"

  korea_households:
    source_id: "STAT-003"
    source_name: "통계청"
    category: "가구통계"

    data_point: "한국 총가구수"
    value: 21000000
    unit: "가구"

    metadata:
      year: 2023
      reliability: "높음"
      access_method: "인구주택총조사"

    related_queries:
      - "한국 가구수는?"
      - "한국 총 가구는?"

  average_household_size:
    source_id: "STAT-004"
    source_name: "통계청"
    category: "가구통계"

    data_point: "평균 가구원수"
    value: 2.3
    unit: "명/가구"
    definition: "총인구 / 총가구수"

    metadata:
      year: 2024
      reliability: "높음"

    related_queries:
      - "평균 가구원수는?"
      - "한 가구당 몇 명?"

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 경제 통계 (한국은행, 기재부)
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  korea_gdp:
    source_id: "ECON-001"
    source_name: "한국은행"
    category: "경제지표"

    data_point: "한국 GDP"
    value: 1800000000000000
    unit: "원"
    definition: "명목 GDP"

    metadata:
      year: 2023
      reliability: "매우 높음"
      access_method: "한국은행 경제통계시스템"

    related_queries:
      - "한국 GDP는?"
      - "한국 국내총생산은?"

  korea_gdp_per_capita:
    source_id: "ECON-002"
    source_name: "한국은행"
    category: "경제지표"

    data_point: "1인당 GDP"
    value: 35000
    unit: "USD"

    metadata:
      year: 2023
      reliability: "높음"

    related_queries:
      - "1인당 GDP는?"
      - "한국 1인당 국민소득은?"

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 보건 통계 (질병관리청)
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  smoking_rate:
    source_id: "HEALTH-001"
    source_name: "질병관리청"
    category: "보건통계"

    data_point: "한국 성인 흡연율"
    value: 0.19
    unit: "비율"
    definition: "현재 흡연자 / 성인 인구"

    metadata:
      year: 2023
      reliability: "높음"
      access_method: "국민건강영양조사"
      detail:
        male: 0.30
        female: 0.05

    related_queries:
      - "한국 흡연율은?"
      - "성인 흡연율은?"

    notes:
      - "남성 30%, 여성 5%"
      - "지속 감소 추세"

  cigarettes_per_day:
    source_id: "HEALTH-002"
    source_name: "질병관리청"
    category: "보건통계"

    data_point: "하루 평균 흡연량"
    value: 13
    unit: "개비/일"
    definition: "흡연자 평균"

    metadata:
      year: 2023
      reliability: "높음"

    related_queries:
      - "하루 평균 흡연량은?"
      - "평균 담배 소비는?"

  adult_population:
    source_id: "HEALTH-003"
    source_name: "통계청"
    category: "인구통계"

    data_point: "한국 성인 인구"
    value: 43000000
    unit: "명"
    definition: "만 19세 이상"

    metadata:
      year: 2024
      reliability: "매우 높음"

    related_queries:
      - "한국 성인 인구는?"
      - "성인 인구는?"

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 산업 통계 (기획재정부, 산업부)
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  cigarette_sales_annual:
    source_id: "INDUSTRY-001"
    source_name: "기획재정부"
    category: "산업통계"

    data_point: "한국 연간 담배 판매량"
    value: 32000000000
    unit: "갑/년"
    definition: "국내 합법 판매 기준"

    metadata:
      year: 2023
      reliability: "매우 높음"
      access_method: "담배 판매 통계"

    derived:
      daily_sales:
        value: 87671233
        unit: "갑/일"
        formula: "연간 판매량 / 365"

    related_queries:
      - "한국 담배 판매량은?"
      - "담배 소비량은?"
      - "하루 담배 판매는?"
      - "담배갑 판매는?"
      - "하루에 판매되는 담배는?"
      - "담배갑 개수는?"
      - "일일 담배 판매량은?"

    notes:
      - "면세 담배 제외"
      - "전자담배 별도 집계"

  restaurants_count:
    source_id: "INDUSTRY-002"
    source_name: "식품의약품안전처"
    category: "산업통계"

    data_point: "한국 음식점 수"
    value: 680000
    unit: "개"
    definition: "영업 허가 기준"

    metadata:
      year: 2023
      reliability: "높음"
      access_method: "식품위생업소"

    related_queries:
      - "한국 음식점 수는?"
      - "음식점 몇 개?"
      - "식당 수는?"

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 노동 통계 (고용노동부)
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  minimum_wage:
    source_id: "LABOR-001"
    source_name: "고용노동부"
    category: "노동통계"

    data_point: "최저임금"
    value: 9860
    unit: "원/시간"

    metadata:
      year: 2024
      reliability: "매우 높음"
      access_method: "최저임금위원회"

    related_queries:
      - "최저임금은?"
      - "최저시급은?"

    notes:
      - "2024년 기준"
      - "수습 90% (8,874원)"

# ========================================
# 카테고리 2: 업계 벤치마크 (신뢰도 높은 출처)
# ========================================

industry_benchmarks:

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # SaaS 지표 (SaaS Capital, OpenView 등)
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  b2b_saas_churn:
    source_id: "SAAS-001"
    source_name: "SaaS Capital"
    category: "SaaS 벤치마크"

    data_point: "B2B SaaS 월간 이탈률"
    value: 0.058
    unit: "비율"
    definition: "월간 MRR 기준 이탈률"

    metadata:
      year: 2023
      sample_size: 2000
      reliability: "높음"
      access_method: "SaaS Capital Index"

    distribution:
      p25: 0.035
      p50: 0.058
      p75: 0.085

    related_queries:
      - "B2B SaaS 이탈률은?"
      - "SaaS Churn Rate는?"

  b2c_saas_churn:
    source_id: "SAAS-002"
    source_name: "Recurly Research"
    category: "SaaS 벤치마크"

    data_point: "B2C SaaS 월간 이탈률"
    value: 0.078
    unit: "비율"

    metadata:
      year: 2023
      reliability: "높음"

    distribution:
      p25: 0.050
      p50: 0.078
      p75: 0.120

    related_queries:
      - "B2C SaaS 이탈률은?"
      - "소비자 SaaS Churn은?"

  saas_ltv_cac_ratio:
    source_id: "SAAS-003"
    source_name: "SaaS Capital"
    category: "SaaS 벤치마크"

    data_point: "LTV/CAC 비율"
    value: 3.5
    unit: "배"
    definition: "건강한 SaaS 기준"

    metadata:
      year: 2023
      reliability: "높음"

    range:
      min: 3.0
      max: 5.0
      ideal: 5.0

    related_queries:
      - "LTV CAC 비율은?"
      - "LTV/CAC는?"

  saas_cac_payback:
    source_id: "SAAS-004"
    source_name: "OpenView Partners"
    category: "SaaS 벤치마크"

    data_point: "CAC Payback Period"
    value: 12
    unit: "개월"
    definition: "CAC 회수 기간"

    metadata:
      year: 2023
      reliability: "높음"

    range:
      good: 12
      excellent: 6

    related_queries:
      - "CAC Payback은?"
      - "CAC 회수기간은?"

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 마케팅 지표
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  startup_marketing_ratio:
    source_id: "MKT-001"
    source_name: "First Round Capital"
    category: "스타트업 벤치마크"

    data_point: "스타트업 평균 마케팅 비율"
    value: 0.20
    unit: "비율"
    definition: "매출 대비 마케팅 비용"

    metadata:
      year: 2023
      sample_size: 500
      reliability: "중간"

    distribution:
      p25: 0.15
      p50: 0.20
      p75: 0.25

    related_queries:
      - "스타트업 마케팅 비율은?"
      - "평균 마케팅 비용은?"

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 전환율 벤치마크
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  saas_freemium_conversion:
    source_id: "CVR-001"
    source_name: "ChartMogul"
    category: "전환율 벤치마크"

    data_point: "Freemium 유료 전환율"
    value: 0.03
    unit: "비율"
    definition: "무료 → 유료 전환율"

    metadata:
      year: 2023
      reliability: "중간"

    distribution:
      p25: 0.01
      p50: 0.03
      p75: 0.05

    related_queries:
      - "Freemium 전환율은?"
      - "무료 유료 전환율은?"

# ========================================
# 카테고리 3: 시장 데이터
# ========================================

market_data:

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 디지털 콘텐츠 시장
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  korea_music_streaming_market:
    source_id: "MARKET-001"
    source_name: "한국콘텐츠진흥원"
    category: "시장 규모"

    data_point: "한국 음악 스트리밍 시장"
    value: 900000000000
    unit: "원/년"

    metadata:
      year: 2023
      reliability: "높음"

    related_queries:
      - "음악 스트리밍 시장은?"
      - "음원 시장 규모는?"

# ========================================
# 카테고리 4: 물리/수학 상수
# ========================================

constants:

  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  # 시간 상수
  # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  hours_per_day:
    source_id: "CONST-001"
    source_name: "물리 정의"
    category: "시간 상수"

    data_point: "하루 시간"
    value: 24
    unit: "시간"

    metadata:
      reliability: "절대"

    related_queries:
      - "하루는 몇 시간?"
      - "1일은 몇시간?"

  days_per_week:
    source_id: "CONST-002"
    source_name: "시간 정의"
    category: "시간 상수"

    data_point: "일주일 일수"
    value: 7
    unit: "일"

    metadata:
      reliability: "절대"

    related_queries:
      - "일주일은 며칠?"
      - "1주일은 몇일?"

  days_per_year:
    source_id: "CONST-003"
    source_name: "시간 정의"
    category: "시간 상수"

    data_point: "1년 일수"
    value: 365
    unit: "일"
    definition: "평년 기준"

    metadata:
      reliability: "절대"

    related_queries:
      - "1년은 며칠?"
      - "일년은 몇일?"

    notes:
      - "윤년: 366일"

  months_per_year:
    source_id: "CONST-004"
    source_name: "시간 정의"
    category: "시간 상수"

    data_point: "1년 개월수"
    value: 12
    unit: "개월"

    metadata:
      reliability: "절대"

    related_queries:
      - "1년은 몇 개월?"

# ========================================
# 총 20개 데이터 소스
# 확장 가능: 50개 목표
# ========================================
