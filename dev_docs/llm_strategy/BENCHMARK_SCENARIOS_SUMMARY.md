# 벤치마크 시나리오 요약

**날짜**: 2025-11-21  
**버전**: Phase별 최적화 완료

---

## 📊 전체 구조

| Phase | 시나리오 수 | 특징 | Temperature | Reasoning Effort |
|-------|------------|------|-------------|------------------|
| **0: Literal** | 1 | 정확한 값 추출 | 0.0 | low |
| **1: Direct RAG** | 1 | RAG 결과 파싱 | 0.0 | low |
| **2: Calculation** | 1 | 수식 계산 | 0.0 | low |
| **3: Guestimation** | 2 | 추정 (템플릿±) | 0.3~0.5 | medium |
| **4: Fermi** | 2 | 복잡한 추론 | 0.7~0.8 | high |

**총 7개 시나리오**

---

## Phase 0: Literal (데이터 추출)

### 시나리오: "한국 B2B SaaS ARPU 찾기"

**질문**:
```
데이터에서 "한국 B2B SaaS ARPU" 값을 정확히 찾아 추출하세요.

주어진 데이터:
- 한국 B2B SaaS ARPU: 200,000원
- 한국 B2C SaaS ARPU: 70,000원

요구사항: B2B SaaS 값만 추출, confidence는 1.0으로 설정
```

**기대 결과**:
- value: `200,000` (정확히)
- unit: `"원"`
- confidence: `1.0`

**품질 평가**:
- JSON 파싱: 25점
- value 존재: 25점
- confidence 존재: 20점
- value 정확: 20점
- confidence=1.0: 10점
- **합계: 100점**

**테스트 목적**: 
- 정확한 데이터 추출 능력
- 구조화된 출력 능력
- 불필요한 추론 없이 정확히 답변

---

## Phase 1: Direct RAG (RAG 결과 파싱)

### 시나리오: "코웨이 월 렌탈료 추출"

**질문**:
```
RAG 검색 결과에서 코웨이의 월 렌탈료를 추출하세요.

RAG 결과:
코웨이 렌탈 사업 개요
- 월 평균 렌탈료: 33,000원
- 총 구독자 수: 720만명
- 주요 제품: 정수기, 공기청정기, 비데

요구사항: 월 렌탈료만 추출, confidence는 1.0으로 설정
```

**기대 결과**:
- value: `33,000`
- unit: `"원"`
- confidence: `1.0`

**품질 평가**:
- JSON 파싱: 25점
- value 존재: 25점
- confidence 존재: 20점
- value 정확: 20점
- confidence=1.0: 10점
- **합계: 100점**

**테스트 목적**:
- RAG 결과 이해 능력
- 복잡한 텍스트에서 특정 정보 추출
- 노이즈 제거 능력

---

## Phase 2: Calculation (수식 계산)

### 시나리오: "LTV 계산"

**질문**:
```
주어진 공식과 값을 사용하여 LTV를 계산하세요.

공식: LTV = ARPU / Churn_Rate

주어진 값:
- ARPU = 80,000원
- Churn_Rate = 0.05

계산 과정:
1. 공식에 값 대입
2. 나눗셈 수행
3. 결과를 원 단위로 표현

요구사항: 정확한 계산 결과, confidence는 1.0으로 설정
```

**기대 결과**:
- value: `1,600,000`
- unit: `"원"`
- confidence: `1.0`

**품질 평가**:
- JSON 파싱: 25점
- value 존재: 25점
- confidence 존재: 20점
- value 정확: 20점
- confidence=1.0: 10점
- **합계: 100점**

**테스트 목적**:
- 수학적 계산 능력
- 공식 이해 및 적용
- 정확한 수치 연산

---

## Phase 3: Guestimation (템플릿 있음)

### 시나리오: "B2B SaaS 한국 ARPU 추정"

**질문**:
```
주어진 템플릿을 참고하여 한국 B2B SaaS ARPU를 추정하세요.

참고 템플릿:
- 글로벌 평균 ARPU: $100
- 한국 시장 조정 계수: 0.6 (구매력, 시장 성숙도 고려)
- 환율: 1,300원/$
- 계산: $100 × 0.6 = $60 → 78,000원

작업:
1. 템플릿의 논리를 이해
2. 유사한 접근법 적용
3. 합리적인 범위 내에서 추정

제약:
- reasoning은 한 문장으로 요약
- confidence는 0.7~1.0 범위
```

**기대 결과**:
- value: `50,000 ~ 150,000` (범위)
- unit: `"원"`
- confidence: `≥ 0.7`
- reasoning: 추정 근거 (200자 이내)

**품질 평가**:
- JSON 파싱: 20점
- value 존재: 20점
- confidence 존재: 15점
- reasoning 존재: 15점
- value 범위 내: 20점
- confidence ≥ 0.7: 10점
- **합계: 100점**

**테스트 목적**:
- 템플릿 패턴 인식
- 유사 사례 적용 능력
- 합리적 추론

---

## Phase 3: Guestimation (템플릿 없음)

### 시나리오: "온라인 취미교육 월 구독료 추정"

**질문**:
```
한국 온라인 성인 취미교육 플랫폼의 월 구독료를 추정하세요.

시장 정보:
- 타겟 고객: 직장인 30-40대
- 주요 경쟁사: 클래스101, 탈잉
- 서비스: 온라인 실시간/VOD 강의

고려사항:
1. 타겟 고객의 지불 능력
2. 경쟁사 가격대 (시장 조사 불가, 추정 필요)
3. 제공 가치 (편의성, 품질)
4. 구독 vs 단건 결제 모델

제약:
- reasoning은 추정 논리를 명확히 설명 (200자 이내)
- confidence는 0.6~0.9 범위 (템플릿 없으므로 낮음)
```

**기대 결과**:
- value: `10,000 ~ 50,000` (범위)
- unit: `"원"`
- confidence: `≥ 0.6`
- reasoning: 추정 논리 (200자 이내)

**품질 평가**: Phase 3과 동일

**테스트 목적**:
- 시장 지식 활용
- 독립적 추론 능력
- 불확실성 하에서의 판단

---

## Phase 4: Simple Fermi

### 시나리오: "서울 피아노 학원 수 추정"

**질문**:
```
Fermi 추정 기법을 사용하여 서울시 피아노 학원 수를 추정하세요.

단계별 접근:
1. 필요 변수 식별 (예: 인구, 학습률, 학원당 학생 수)
2. 각 변수 값 추정 (합리적 가정 기반)
3. 최종 계산 수행
4. 결과의 합리성 검증

변수 예시:
- 서울 인구
- 피아노 학습 인구 비율
- 학원당 평균 학생 수
- 온라인 vs 오프라인 비율

요구사항:
- reasoning: 추정 논리를 단계별로 요약 (300자 이내)
- confidence: 0.6~0.8 범위
```

**기대 결과**:
- value: `1,500 ~ 4,000` (범위)
- unit: `"개"`
- confidence: `≥ 0.6`
- reasoning: 단계별 논리 (300자 이내)

**품질 평가**:
- JSON 파싱: 20점
- value 존재: 20점
- confidence 존재: 15점
- reasoning 존재: 15점
- value 범위 내: 20점
- confidence ≥ 0.6: 10점
- **합계: 100점**

**테스트 목적**:
- Fermi 분해 능력
- 합리적 가정 설정
- 다단계 추론

---

## Phase 4: Complex Fermi

### 시나리오: "한국 성인 피아노 학습 시장 총 지출액"

**질문**:
```
다층 Fermi 추정으로 한국 성인 피아노 학습 시장의 연간 총 지출액을 계산하세요.

필수 구성요소:
1. 학습자 수 추정
   - 연령대별 학습 비율
   - 지역별 분포
   
2. 지출 항목별 추정
   - 학원비 (월평균 × 12개월)
   - 교재비 (연간)
   - 악기 구매/렌탈 (초기 + 유지)
   - 기타 비용 (조율, 악세서리 등)

3. 추정 모델
   - Top-down: 전체 시장에서 하향식
   - Bottom-up: 개인 지출에서 상향식
   - 최소 1개 모델 사용, models 배열에 명시

요구사항:
- models: 사용한 추정 모델 목록
- reasoning: 각 모델의 논리와 최종 값 선택 근거 (500자 이내)
- confidence: 0.5~0.8 범위 (복잡도로 인한 불확실성)
```

**기대 결과**:
- value: `50,000,000,000 ~ 500,000,000,000` (500억~5천억)
- unit: `"원"`
- confidence: `≥ 0.5`
- models: `["top_down"]` 또는 `["bottom_up"]` 등
- reasoning: 모델별 논리 (500자 이내)

**품질 평가**: Phase 4와 동일

**테스트 목적**:
- 복잡한 시장 규모 추정
- 다양한 접근법 비교
- 최고 수준의 추론 능력

---

## 📈 Phase별 난이도 및 특성

| Phase | 난이도 | 창의성 요구 | 정확성 요구 | 추론 깊이 | 주요 능력 |
|-------|--------|------------|------------|----------|----------|
| **0** | ⭐ | ❌ | ⭐⭐⭐⭐⭐ | 없음 | 데이터 추출 |
| **1** | ⭐ | ❌ | ⭐⭐⭐⭐⭐ | 없음 | 텍스트 이해 |
| **2** | ⭐⭐ | ❌ | ⭐⭐⭐⭐⭐ | 없음 | 수학 계산 |
| **3** | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | 중간 | 패턴 인식, 시장 지식 |
| **4** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ | 깊음 | Fermi 분해, 복합 추론 |

---

## 🎯 벤치마크 설계 원칙

### 1. **단계적 복잡도 증가**
- Phase 0-2: 결정론적 (정답 하나)
- Phase 3: 추정 (합리적 범위)
- Phase 4: 복잡한 추론 (다양한 접근)

### 2. **Phase별 차별화된 평가**
- Phase 0-2: reasoning 불필요, confidence=1.0 필수
- Phase 3-4: reasoning 필수, confidence 범위 허용

### 3. **명확한 지시사항**
- 모든 프롬프트에 구체적 요구사항 명시
- 제약 조건 명확화
- 출력 형식 상세 설명

### 4. **JSON Schema 적용**
- 일반 모델: structured outputs로 정확성 보장
- reasoning 모델: Schema 미지원으로 프롬프트에만 의존

---

## 📊 예상 모델 성능

| 모델 | Phase 0-2 | Phase 3 | Phase 4 | 종합 | 특징 |
|------|-----------|---------|---------|------|------|
| **gpt-4o-mini** | 100% | 100% | ? | 높음 | 가성비 최고 |
| **gpt-4o** | 100% | 100% | ? | 높음 | 균형 |
| **gpt-5** | 낮음 | 낮음 | 높음? | 중간 | JSON 파싱 약함 |
| **o1** | 낮음 | 낮음 | 높음 | 중간 | 추론 강함, 구조화 약함 |
| **Claude** | 높음 | 높음 | 높음 | 높음 | 전반적 우수 |

---

## 🔄 다음 단계

1. ✅ Phase별 품질 평가 개선
2. ✅ JSON Schema 적용
3. ✅ Phase별 최적 파라미터 설정
4. ⏳ 벤치마크 실행 및 결과 분석
5. ⏳ 모델별 강점/약점 분석
6. ⏳ 비용 대비 성능 분석

---

**작성자**: AI Assistant  
**버전**: v2.0 (Phase별 최적화)  
**상태**: ✅ 준비 완료, 실행 대기중

